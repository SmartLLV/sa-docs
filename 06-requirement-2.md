---
layout: default
title: Use Cases
---
# Owl 需求规格说明

## 6.2 Use Cases

#### 详述用例：

#### 购买影票
**范围：** Owl在线电影售票系统

**级别：** 用户目标

**主要参与者：** 需要购买影票的用户

**涉众及其关注点：**
  - 需要购买影票的用户：希望能够清晰看到影片信息，方便地查找影片或影院，便利地下单，并且能够收到订单的确认反馈。
  - 电影院：希望能够及时接收到订单以及更新座位信息。
  - 支付授权服务：希望接收到格式和协议正确的数字授权请求，希望准确计算对电影院的应付款。

**前置条件：** 电影信息，影院信息，座位信息和票价信息是正确的。

**成功保证(或后置条件)：** 储存订单信息，准确计算票价，更新影票剩余量和座位信息，记录订单，记录支付授权的批准。

**主成功场景(或基本流程)：**
1. 用户登陆网站，进行影片信息浏览或搜索电影。
2. 用户选定电影，获得影片详情。
3. 用户根据自身的需求，选定影院，选定场次，选定座位，生成一个新订单。
4. 用户根据自身需求，选择需不需要附带电影零食套餐，并再次确认订单。
5. 用户选择支付方式，进行支付授权，并紧接着进行支付。
6. 用户得到电子票据以及订单状态变更信息。
7. 系统记录完整的订单信息，并且更新座位信息。

**扩展(或替代流程)：**

*a. 在操作过程中出现网络中断

- 1.网页应该能够保存网络中断前的用户的订单信息

  - 1a. 网络中断时间长于15分钟

     1）用户退出登陆

     2）恢复网络后重新进入网站需要重新登陆

  - 1b. 网络中断时间小于15分钟

    1）用户退出登陆

    2）恢复网络后重新进入网站无需登陆，自动恢复上次的登陆状态

*b. 用户在操作过程中不小心关闭了网页

  - 1.网页能够保存网页关闭前的订单信息

  - 2.用户重新进入网页后，自动恢复登陆状态

1a. 用户名不存在

- 1.提示用户注册

1b. 密码错误

- 1.提示用户使用找回密码功能

1c. 影片图片加载不出来

- 1.保持图片的大小位置，网页布局不会产生变化，并显示替代文字

1d. 用户搜索的影片不存在

- 1.提示用户该影片不存在

- 2.建议一些相关的影片搜索名字

3a. 用户想要选定的影院不存在

- 1.推荐位置相近的其他影院

3b. 用户选定座位生成订单时发现该座位被他人预定了

- 1.提示用户该座位已被预定

- 2.返回座位页面让用户重新选择座位

  - 2a. 座位已经被预定完了

    1）提示用户座位已经被预定完了

    2）建议用户选择其他场次

4a. 零食套餐售罄

  - 1.提示用户零食套餐售罄并表示歉意

5a. 支付授权失败

  - 1.让用户再次尝试

  - 2.让用户换用其他授权方式

5b. 支付失败

  - 1.订单仍然存在，但是状态是未支付状态

  - 2.未支付状态下，为用户保留座位15分钟

  - 3.15分钟未支付，订单自动取消

6a. 支付成功后未获得票据及订单消息

  - 1.联系客服处理


**特殊需求：**
- 网站能够根据浏览器提供的定位信息自动定位到用户所在城市
- 支付授权的响应时间应该小于1分钟
- 支持文本显示的语言国际化

**技术和数据变元表：**
- 支付授权可以通过支付宝、微信、apple pay等进行

**发生频率：**
- 可能会不断地发生

**杂项：**
- 如何处理两个用户同时预定影票的情况
- 如何及时快速地更新座位信息

#### 非正式用例

#### 支付影票

主成功场景：

- 用户通过支付宝、微信、apple pay等途径进行第三方授权之后进行付款，完成支付流程。

交替场景：

- 用户通过第三方授权失败，保留订单信息并保留座位15分钟，提示用户换种方式授权或多次尝试，15分钟内授权成功并支付，完成支付流程，获得订单信息。
- 用户授权成功，支付失败，仍然保留订单信息并保留座位15分钟，提示用户换其他途径并多次尝试，15分钟内授权成功并支付，完成支付流程，获得订单信息。
- 用户下订单之后15分钟仍解决不了支付问题，订单自动取消。

#### 转让影票

主成功场景：

- 用户在订单处选择转让影票，订单状态改变为“待转让”。转让成功，订单状态改变为“已转让”，并在3个工作日内将款项按照原途径退还。

交替场景：

- 用户选择了转让影票，但是在电影开场前仍无人选择，转让失败。订单状态改变为“转让失败”，款项不返回，结束订单。
- 用户选择了转让影票后后悔，选择停止转让并重新将订单状态更改为“待使用”，订单完成。

#### 摘要用例

#### 注册用户
注册用户：用户登陆网站，点击进入注册页面，填写表单信息，获取手机验证码，完成注册。

#### 登陆用户
登陆用户：用户登陆网站，点击进入登陆页面，填写用户名和密码，验证过后登陆成功，跳转到网站首页。

#### 浏览信息
浏览信息：用户登陆网站，通过点击对应的区域，浏览相应的影片信息和影院信息。